#!/usr/bin/env bash
# Copyright (c) 2011 Concurrent, Inc.

## NOTE Do not change these lines.  They are rewritten during installation.
if [[ "$MT_PATH" == "" ]]; then
MT_PATH=
fi
## /NOTE

# If the above line is not set (ie. multitool is not installed), set it
if [[ "$MT_PATH" == "" ]]; then
  MT_PATH=`dirname $(cd ${0%/*}/.. && echo $PWD/${0##*/})`
fi

function include_dependencies () {
  if [[ $# -gt 0 ]]; then
    for dep in "$@"; do
      . $MT_PATH/bin/functions/$dep.inc
    done
  fi
}

include_dependencies jar log run

mt_run_args=

while [[ $# -gt 0 ]]; do
  case "$1" in
    help)
      mt_help $2
      exit 0
      ;;
    -h|--help)
      mt_run_usage
      exit 0
      ;;
    -v|--version)
      mt_run_version
      exit 0
      ;;
    -q|--quiet)
      mt_log_verbose=0
      ;;
    -nc|--no-color|--no-colour)
      mt_log_use_color=0
      ;;
    *)
      mt_run_args="$mt_run_args $1"
      ;;
  esac
  shift
done

mt_run $mt_run_args